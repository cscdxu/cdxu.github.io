---
layout: post
title: vital sign
mathjax: true
categories: code
tags: vital sign
keywords: vital sign
description: Record vital sign knowledge points
mermaid: true
highlight: true
status: Archived
type: mdpdf
repopath: 2022-05-04-vital sign-cn

---

生命体征指标

|     | 频率        | 胸前体表振动幅度  | 背后体表振动幅度   |
| --- | --------- | --------- | ---------- |
| 呼吸  | 0.1-0.5Hz | 1-12mm    | 0.1-0.5mm  |
| 心跳  | 0.8-2.0Hz | 0.1-0.5mm | 0.01-0.2mm |

生命体征信号的三个特点，第一，呼吸心跳信号属于**低频**信号，最大频率也不超过 2.0Hz。 第二，生命体征信号是属于**非平稳的周期**信号，近似于**正弦波**，不同的个体及同一个体的不同状态下，心跳呼吸频率可能会存在较大的差异，人的呼吸心跳频率是会变化的。第三，生命体征信号较微弱且频率较低，容易受周围静止物体和运动目标等**频率较低的大动作**的干扰。

$IF$信号$f_b$的数学表达式

$$
f_b=\frac{2BR_0}{cT_c}
$$

其中， $B $是带宽，$T_c $为脉冲持续时间， $c $为光速，$R_0$ 为目标和雷达的距离。

雷达的发射波形通常采用锯齿波或三角形波，本文采用**锯齿波**。FMCW 雷达的
发射信号可以表示为

$$
S_t=A_Texp(j(2\pi{f_c}t+\pi{\frac{B}{T_c}}t^2+\theta(t))
$$

其中，$f_c$为线性调频信号的起始频率， $B$ 是带宽，$A_T$是发送信号的幅度，$\theta(t)$是相
位噪声，$T_c$ 是线性调频脉冲的宽度， $B/T_c$ 是线性调频脉冲信号的斜率，代表频率的
变化率。

假设$R(t)$ 是胸部的运动位移，$d_0$ 是目标距雷达传感器的距离，则目标胸部到雷达的距离是
$x(t)=R(t)+d_0$，时间延迟是$t_d=2x(t)/c$， $c$是光速。然后，接收端收到的信号为：

$$
S_t=A_Rexp(j(2\pi{f_c}(t-t_d)+\pi{\frac{B}{T_c}}(t-t_d)^2+\theta(t-t_d))
$$

其中，$A_R$为接受信号幅度，幅度的大小与目标到雷达距离成反比。

$IF $信号$S_{IF}(t)$其表达式如下：

$$
S_{IF}(t)=A_TA_Rexp(j(z\pi{f_b}t+\phi(t)))
$$

$$
f_b=\frac{2Bd_0}{cT_c}
$$

$$
\phi(t)=\frac{4\pi{x(t)}}{\lambda}
$$

其中，$t_d=2(R(t)+d_0)/c$

如果一个目标在固定距离处移动微小距离 $R$，则目标距离单元处连续两次之间的**相位变化**为：

$$
\Delta\phi=\frac{4\pi}{\lambda}\Delta{R}
$$

上式为微小位移变化与相位之间的关系式，反映无线技术跟踪目标微小位移的核心思想是提取从目标反射信号的相位变化。对于 77GHz 的 FMCW 毫米波而言，1mm 的位移等于 $\lambda/4$，带入上式，可知 IF 信号的相位将改变 180 度，这说明 IF信号的**相位**对目标范围内的微小变化非常敏感，这一特性也奠定 FMCW 毫米波雷达可以用于生命体征检测的基础。

**毫米波雷达相位提取模型**

对单个线性调频脉冲也就是**单个快时间样本**进行**距离-FFT**变换以获得 IF 信号的频谱，频谱的峰值对应**不同距离处的目标**，根据峰值可以分离不同距离处的目标。经过距离-FFT，确定**目标距离单元**。

然后，在每个线性调频脉冲过的距离-FFT 结果中，提取目标距离单元的相位信息，形成相位样本序列，对相位样本序列**执行 FFT**，即可获得胸腔的振动频率。

经过相参积累的快时间和慢时间采样数据结构图如下图所示。

![](C:\Users\wsco\AppData\Roaming\marktext\images\2023-03-21-21-19-17-image.png)

脉冲之间的间隔为$T_{off}$，在此间隔内没有信号被传输，脉冲重复时间(Pulse Repetition Time，PRT)即从一个线性调频脉冲的开始到下一个线性调频脉冲的开始的时间，$PRT=T_c+T_{off}$。雷达发送和接收 $N $个线性调频连续脉冲，对应的 $N $个线性调频脉冲的传输时间被定义**慢时间**$T_d$。对于每个线性调频脉冲，都将获取所得的基带信号$S(t)$并将其数字化，从而在每个线性调频脉冲持续时间即快时间中**产生 $M$ 个样本**，在 $T_d$ 间隔之后，将 $N*M$ 个样本排列在一个矩阵中，从而得到 IF 信号的数据矩阵 $y[M,N]$。快时间轴对应的是对距离的采样，也即系统的 ADC 采样速率，每个脉冲采样后均可**产生 $M$ 个距离单元**。慢时间轴表示的是信号脉冲的个数，采样频率是 $f_s$，**与雷达的脉冲重复频率一致。**

获取 IF 信号数据矩阵以后，通过距离-FFT 确定目标的距离单元，随后，提取目标距离单元对应的多个脉冲的原始相位信号$\phi(n)$的离散形式，$\phi(n)$ 为$\phi(t)$ 的离散形式，$n$表示目标距离单元对应的第几个脉冲即脉冲的索引，综上所述，被测目标体征的相位信息获取步骤如下：

(1) 利用距离-FFT 对矩阵$y[M,N]$进行处理，从而得到距离慢时间矩阵$R[Q,N]$ ，$Q $为距离-FFT 的点数， $Q $个距离-FFT 采样点数，生成 $Q $个距离单元。

(2) 找到目标对应的距离单元。通过寻找矩阵$R[Q,N]$每行的能量最大的点即频谱峰值来确定目标所在的位置。

(3) 提取目标的距离单元对应的相位信息并解卷绕，得到$\phi(n)(n=1,2,3,...,N)$。

![](C:\Users\wsco\AppData\Roaming\marktext\images\2023-03-21-21-42-54-image.png)

FMCW雷达的生命检测原理与测速的原理相似。不同的是，速度检测时要获得的是微动位移在**单位时间**内变化的大小，而生命体征检测则是要获取微动位移的**变化频率**。另外相位的差分运算并不会影响到呼吸和心跳频率的变化，故可以通过相位的变化来展示微动信号的变化
频率。
